!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@babel/runtime/helpers/defineProperty")):"function"==typeof define&&define.amd?define(["@babel/runtime/helpers/defineProperty"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)._defineProperty)}(this,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t);var r={count:0};function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach((function(e){n.default(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var i,a,u={id:0,content:""},p=function(t,e){var n=e,r=[],o=function(e){n=t(n,e);for(var o=0;o<r.length;o++)r[o]()};return o({type:Symbol()}),{subscribe:function(t){r.push(t)},dispatch:o,getState:function(){return n}}}((i={counter:function(t,e){switch(t||(t=r),e.type){case"INCREMENT":return{count:t.count+e.payload};case"DECREMENT":return{count:t.count-e.payload};default:return t}},msg:function(t,e){switch(t||(t=u),e.type){case"MODIFY_ID":return c(c({},t),{},{id:e.payload.id});case"MODIFY_CONTENT":return c(c({},t),{},{content:e.payload.content});default:return t}}},a=Object.keys(i),function(t,e){for(var n={},r=0;r<a.length;r++){var o=a[r],c=t?t[o]:void 0;n[o]=i[o](c,e)}return n}));console.log("initialState:",p.getState()),p.subscribe((function(){var t=p.getState();console.log("count:",t.counter.count)})),p.subscribe((function(){var t=p.getState();console.log("msg-- ","id:".concat(t.msg.id," content:").concat(t.msg.content))})),p.dispatch({type:"INCREMENT",payload:1}),p.dispatch({type:"DECREMENT",payload:2}),p.dispatch({type:"MODIFY_ID",payload:{id:1}}),p.dispatch({type:"MODIFY_CONTENT",payload:{content:"hello world"}})}));
