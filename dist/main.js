!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@babel/runtime/helpers/typeof"),require("@babel/runtime/helpers/defineProperty")):"function"==typeof define&&define.amd?define(["@babel/runtime/helpers/typeof","@babel/runtime/helpers/defineProperty"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)._typeof,t._defineProperty)}(this,(function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(t),o=n(e);var c=function(t){return t.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))},u=function(t,e){return function(){return e(t.apply(this,arguments))}},i={count:0};function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){o.default(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p,l,s={id:0,content:""},y=(p={counter:function(t,e){switch(t||(t=i),e.type){case"INCREMENT":return{count:t.count+e.payload};case"DECREMENT":return{count:t.count-e.payload};default:return t}},msg:function(t,e){switch(t||(t=s),e.type){case"MODIFY_ID":return a(a({},t),{},{id:e.payload.id});case"MODIFY_CONTENT":return a(a({},t),{},{content:e.payload.content});default:return t}}},l=Object.keys(p),function(t,e){for(var n={},r=0;r<l.length;r++){var o=l[r],c=t?t[o]:void 0;n[o]=p[o](c,e)}return n}),d=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r){var o=t(n,r),u={getState:o.getState},i=o.dispatch,f=e.map((function(t){return t(u)})),a=c(f);return o.dispatch=a(i),o}}}((function(t){return function(e){return function(n){console.log("preState:",t.getState()),e(n),console.log("nextState",t.getState())}}}),(function(t){return function(t){return function(e){try{t(e)}catch(t){console.log("error:",t)}}}})),b=function t(e,n,r){if("function"==typeof n&&void 0===r&&(r=n,n=void 0),r&&"function"==typeof r)return r(t)(e,n);var o=n,c=[],u=function(t){o=e(o,t);for(var n=0;n<c.length;n++)c[n]()};return u({type:Symbol()}),{subscribe:function(t){return c.push(t),function(){var e=c.indexOf(t);c.splice(e,1)}},dispatch:u,getState:function(){return o},replaceReducer:function(t){e=t,u({type:Symbol()})}}}(y,d);b.subscribe((function(){var t=b.getState();console.log("count:",t.counter.count),console.log("msg-- ","id:".concat(t.msg.id," content:").concat(t.msg.content))})),b.dispatch({type:"INCREMENT",payload:1});var g=function(t,e){if("function"==typeof t)return u(t,e);if("object"!==r.default(t)||null===t)throw new Error;var n={};for(var o in t){var c=t[o];"function"==typeof c&&(n[o]=u(c,e))}return n}({decrement:function(){return{type:"DECREMENT",payload:2}},modifyContent:function(){return{type:"MODIFY_CONTENT",payload:{content:"test"}}}},b.dispatch);g.decrement(),g.modifyContent()}));
